
<div class="qcm-container">
    <h1 class="qcm-title">{{ qcm.title }}</h1>

    <form method="post">
        {% csrf_token %}

        {% comment %}
        Loop through questions using the prepared questions_data from the view.
        Each qd has:
            - qd.question
            - qd.choices
            - qd.is_multiple
        {% endcomment %}
        {% for qd in questions_data %}
        <div class="question-block" style="margin-bottom: 1.5rem; padding: 1rem; border: 1px solid #ddd;">
            <p class="question-text">Question {{ forloop.counter }}:<br>{{ qd.question.text }}</p>
        <style>
                .question-text {
                white-space: pre-wrap;   /* âœ… preserves newlines and indentation */
                font-weight: 500;
                font-size: 1rem;           /* slightly bigger than normal text */
                line-height: 1.5;            /* improves readability for multiline text */
                }
                .qcm-title {
                    white-space: pre-wrap;
                }
                .choice-input {
                    font-weight: 800;       /* slightly bold */
                    font-size: 1.5rem;      /* bigger font */
                    margin-bottom: 0.5rem;  /* spacing between choices */
                    display: block;         /* each choice on its own line */
                    cursor: pointer;        /* makes it clickable */
                }


        </style>    

            {% comment %}
            Determine if the question has multiple correct answers:
            If yes, use checkboxes; otherwise, use radio buttons
            {% endcomment %}
            {% if qd.is_multiple %}
                {% for choice in qd.choices %}
                <div class="choice">
                    <label>
                        <input type="checkbox" name="question_{{ qd.question.id }}" value="{{ choice.id }}">
                        {{ choice.text }}
                    </label>
                </div>
                {% endfor %}
            {% else %}
                {% for choice in qd.choices %}
                <div class="choice">
                    <label>
                        <input type="radio" name="question_{{ qd.question.id }}" value="{{ choice.id }}">
                        {{ choice.text }}
                    </label>
                </div>
                {% endfor %}
            {% endif %}
        </div>
        {% endfor %}

        <button type="submit" style="padding: 0.5rem 1rem; font-size: 1rem;">Submit</button>
    </form>
</div>

