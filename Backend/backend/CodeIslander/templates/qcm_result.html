
<div class="qcm-result-container">
    <h1 class="qcm-title">{{ qcm.title }} — Results</h1>

    <p style="font-size:1.2rem; margin-bottom:1rem;">
        Your score: <strong>{{ score }}</strong> / {{ total }}
    </p>

    {% for d in details %}
    <div class="question-block" style="margin-bottom:1.5rem; padding:1rem; border:1px solid #ddd;">
        <h3>Question {{ forloop.counter }}: {{ d.question.text }}</h3>

        <ul>
            {% for choice in d.choices %}
            <li>
                {% if choice.id in d.correct_ids %}
                    <strong>{{ choice.text }} — correct answer</strong>
                {% else %}
                    {{ choice.text }}
                {% endif %}

                {% if choice.id in d.selected_ids %}
                    &nbsp;<em>(you selected this)</em>
                {% endif %}
            </li>
            {% endfor %}
        </ul>

        {% if d.is_correct %}
        <p style="color:green;"><strong>Correct</strong></p>
        {% else %}
        <p style="color:red;"><strong>Incorrect</strong></p>
        {% endif %}
    </div>
    {% endfor %}

    <a href="{% url 'qcm_detail' qcm.id %}" style="display:inline-block; margin-top:1rem; padding:0.5rem 1rem; background:#007BFF; color:white; text-decoration:none; border-radius:4px;">
        Try Again
    </a>
</div>

